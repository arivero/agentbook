# Agentic Workflow Playbook for Agentbook

This playbook translates GitHub Agentic Workflows (GH-AW) guidance into a practical, repeatable process for maintaining this book. It defines two operational lanes: **fast-track** (small, safe fixes) and **full playbook** (multi-model, consensus-driven updates).

## Goals

- Discover new agentic workflow practices and tooling.
- Debate changes in public issues before implementation when changes are non-trivial.
- Assign clear responsibilities to agents.
- Keep manuscript sources, table of contents, and blog posts in sync for larger updates.

## Workflow Lanes

### Lane A: Fast-Track (small, low-risk)

**Default for:** narrow fixes like link repairs, typo fixes, and similarly scoped changes.

**Automatic fast-track source:** issues opened by external link validation should be treated as fast-track by default.

**Agent behavior:**
- A single Copilot-driven fast-track flow assesses the issue.
- If appropriate, it creates and pushes a PR automatically.
- It closes (or marks closure-ready) the originating issue after PR creation according to repository policy.

### Lane B: Full Playbook (larger or ambiguous work)

Used when scope is broad, architecture/content impact is significant, or triage marks it as non-fast-track.

This lane uses a multi-model sequence:
1. Two different models/agents contribute analysis on the issue.
2. A third model/agent performs the implementation update.
3. The implementation includes both:
   - book content changes
   - a corresponding blog post

## The Research → Plan → Assign Loop (Full Playbook)

### 1) Research (Manual for now)

**Status:** to be implemented as automation.

**Trigger (current):** manual `workflow_dispatch` (planned) and/or maintainer-initiated manual run.

**Intent:** search the internet for:
- new content/patterns to include
- obsolete content that should be revised or removed

**Expected output:** a structured proposal issue with sources and suggested scope.

### 2) Plan (Human-Gated)

**Trigger:** maintainer review of the proposal or suggestion issue.

**Decision logic:**

- **Accept as Fast-Track** → label for fast-track execution.
- **Accept as Full Playbook** → continue to multi-model discussion + implementation.
- **Revise** → label `needs-revision` and ask for clarifications.
- **Reject** → label `rejected` with rationale.

### 3) Assign & Implement

#### Fast-Track implementation
- Single-model Copilot execution.
- Minimal scoped edits only.
- PR creation and issue closure flow are automated.

#### Full Playbook implementation
- Multi-model discussion on issue first.
- Third model executes book update + blog post update.
- Standard build/deploy workflows (PDF + Pages) run after merge.

## Fast-Track Decision Policy

- **Always fast-track:** issues generated by external-links validation.
- **All other issues:** triage decides.
  - If narrow and low risk → fast-track.
  - If broad, uncertain, or requiring synthesis → full playbook.

This keeps routine maintenance quick while preserving deliberation for substantive content updates.

## Required Artifacts by Lane

### Fast-Track
- ✅ Minimal change in relevant file(s)
- ✅ PR linked to issue
- ✅ Issue closure/closure-ready update

### Full Playbook
- ✅ Manuscript update or new section markdown
- ✅ `book/chapters/000-toc.md` and `book/index.md` refreshed (if section structure changes)
- ✅ Root `index.md` updated where relevant
- ✅ New `_posts/<date>-<slug>.md` blog entry

## Recommended GH-AW Workflow Components

Use shared components and imports to keep workflows consistent:

```markdown
---
imports:
  - shared/common-tools.md
  - shared/safe-outputs.md
  - shared/issue-templates.md
---
```

### Tooling baseline

- `edit` for file updates
- `github` toolset for issues/PRs
- `web-search` and `web-fetch` for research
- Optional `cache-memory` for trend tracking

## Example Consensus Checklist (Full Playbook)

- [ ] Proposal issue created
- [ ] At least one maintainer comment
- [ ] Outcome label applied (`accepted-fast-track` / `accepted-full-playbook` / `needs-revision` / `rejected`)
- [ ] Agent(s) assigned for implementation

## How This Supports the Book

This playbook balances speed and quality: fast-track handles repetitive maintenance quickly, while the full playbook preserves transparent, multi-perspective review for larger updates.
