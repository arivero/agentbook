# Workflow authoring notes

- Every agentic workflow source file (`*.md`) in this directory must be compiled into its executable lock workflow (`*.lock.yml`) using `gh aw` commands before merging.
- **DO NOT** edit `*.lock.yml` files by hand. They are generated artifacts produced by `gh aw` from the corresponding `*.md` source. Always edit the `.md` source and recompile.
- Keep source and compiled files in sync in the same PR.
- If `gh extension install github/gh-aw` fails without `GH_TOKEN`, install via the script instead:
  - `curl -sLO https://raw.githubusercontent.com/github/gh-aw/main/install-gh-aw.sh`
  - Review the script (for example, `less install-gh-aw.sh` or `head -n 50 install-gh-aw.sh`)
  - `bash install-gh-aw.sh`
  - Verify with `gh aw version`
- Debug compilation errors with focused commands:
  - `gh aw compile <workflow-id> --json` for specific error messages
  - `gh aw compile --verbose` to see which files are being compiled
  - `gh aw compile <workflow-id>` for one workflow at a time (avoid compiling `AGENTS.md`, which has no frontmatter)
  - If you see errors about write permissions, switch permissions to read-only and configure `safe-outputs` for labels/comments/PRs.
    - Reference: https://github.com/github/gh-aw/blob/main/.github/aw/github-agentic-workflows.md#safe-outputs
- Issue status labels must follow this lifecycle unless explicitly rejected/closed early:
  - `acknowledged`
  - `triaged-fast-track` **or** `triaged-for-research`
  - `researched-waiting-opinions`
  - `phase-1-complete`
  - `phase-2-complete`
  - `assigned`
- Any agent may reject at any stage by posting rationale, adding `rejected`, and closing the issue.
